/**
 * @joyfulljs/scalable v1.0.0
 * (c) 2014-2020 by elvin zhu
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Scalable={})}(this,(function(e){"use strict";function t(e){var t=window.getComputedStyle(e).transform;return t&&"none"!==t||(t="matrix(1, 0, 0, 1, 0, 0)"),t.replace(/\(|\)|matrix|\s+/g,"").split(",")}e.default=function(e,n){var o=n||{},r=o.onScaleChange,i=o.maxScale,a=void 0===i?5:i,f=o.minScale,s=void 0===f?1:f,d=o.followMouse,l=void 0===d||d,m=window.getComputedStyle(e),u=m.transformOrigin,c=m.transform,v=-1,p=-1;function y(n){var o=t(e),i=+o[0];if(!(n.deltaY<0&&i>=a||n.deltaY>0&&i<=s)){var f=.005*n.deltaY,d=Math.min(Math.max(s,i-f),a);if(l){var m=f*v,u=f*p;o[4]=+o[4]+m,o[5]=+o[5]+u}o[0]=d,o[3]=d,e.style.transform="matrix("+o.join(",")+")",r&&r({scale:d}),n.preventDefault()}}function g(e){v=e.offsetX,p=e.offsetY}return e.parentNode.addEventListener("wheel",y),l&&(e.style.transformOrigin="0 0",e.addEventListener("mousemove",g)),{reset:function(){v=-1,p=-1,e.style.transformOrigin=u,e.style.transform=c},destroy:function(){e.parentNode.removeEventListener("wheel",y),e.removeEventListener("mousemove",g)}}},e.getTransform=t,Object.defineProperty(e,"__esModule",{value:!0})}));
