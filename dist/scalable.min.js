/**
 * @joyfulljs/scalable v1.0.1
 * (c) 2014-2020 by elvin zhu
 * Released under the MIT License.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Scalable={})}(this,(function(e){"use strict";var t=["webkit","ms","moz","o"];function n(e,n){var r=n||document.body.style;if(!(e in r))for(var o=e.charAt(0).toUpperCase(),i=e.substr(1),a=0;a<t.length;a++){var f=t[a]+o+i;if(f in r)return f}return e}var r=n("transformOrigin"),o=n("transform");function i(e){var t=window.getComputedStyle(e)[o];return t&&"none"!==t||(t="matrix(1, 0, 0, 1, 0, 0)"),t.replace(/\(|\)|matrix|\s+/g,"").split(",")}e.default=function(e,t){var n=t||{},a=n.onScaleChange,f=n.maxScale,s=void 0===f?50:f,d=n.minScale,l=void 0===d?1:d,u=n.followMouse,m=void 0===u||u,v=window.getComputedStyle(e),c=v[r],p=v[o],y=-1,g=-1;function h(t){var n=i(e),r=+n[0];if(!(t.deltaY<0&&r>=s||t.deltaY>0&&r<=l)){var f=.005*t.deltaY,d=Math.min(Math.max(l,r-f),s);if(m){var u=f*y,v=f*g;n[4]=+n[4]+u,n[5]=+n[5]+v}n[0]=d,n[3]=d,e.style[o]="matrix("+n.join(",")+")",a&&a({scale:d}),t.preventDefault()}}function w(e){y=e.offsetX,g=e.offsetY}return e.parentNode.addEventListener("wheel",h),m&&(e.style[r]="0 0",e.addEventListener("mousemove",w)),{reset:function(){y=-1,g=-1,e.style[r]=c,e.style[o]=p},destroy:function(){e.parentNode.removeEventListener("wheel",h),e.removeEventListener("mousemove",w)}}},e.getTransform=i,e.transformOriginProperty=r,e.transformProperty=o,Object.defineProperty(e,"__esModule",{value:!0})}));
